{% if section.blocks.size > 0 %}

<div class="custom-rich-text">
    {% for block in section.blocks %}
    {% case block.type %}
    {% when 'banner' %}

    {% if block.settings.banner != blank %}

    <div class="dm-custom-banner-wrapper">

        <div class="dm-custom-image--flex">

            {% render 'lazy-image', src: block.settings.banner, width: "large", class:"dm-custom-image--image" %}
        

    </div>

    </div>

    
        
    {% endif %}

    {% when 'caption' %}
    {% if block.settings.caption != blank %}
    <div class="custom-richtext__caption caption page-width center page-width--narrow">
        {{ block.settings.caption }}
    </div>
    {% endif %}
    {% when 'heading' %}
    {% if block.settings.heading != blank %}
    <div class="custom-richtext__heading h2 page-width center page-width--narrow">
        {{ block.settings.heading }}
    </div>
    {% endif %}
    {% when 'subheading' %}
    {% if block.settings.subheading != blank %}
    <div class="custom-richtext__subheading subtitle page-width center page-width--narrow">
        {{ block.settings.subheading }}
    </div>
    {% endif %}
    {% when 'paragraph' %}
    {% if block.settings.paragraph != blank %}
    <div class="custom-richtext__paragraph page-width center page-width--narrow">
        {{ block.settings.paragraph  | replace: '<a', '<a class="link"' }}
    </div>
    {% endif %}
    {% when 'button' %}
    {% if block.settings.button_text != blank and block.settings.button_link != blank %}
    <div class="custom-richtext__button page-width center page-width--narrow">
        <a href="{{ block.settings.button_link }}" class="uppercase button">{{ block.settings.button_text }}</a>
    </div>
    {% endif %}
    {% else %}
    {% endcase %}
    {% endfor %}
</div>
{% endif %}

{% schema %}
{
"name": "Rich text",
"tag": "section",
"class": "section",
"max_blocks": 6,
"settings": [
{
"type": "header",
"content": "Customize this section using blocks "

}
],
"blocks": [
{
"name": "Banner",
"type": "banner",
"settings": [

{
    "type": "image_picker",
    "id": "banner",
    "label": "Banner Image",
    "info": "600*800 recommended"
}]},
{
"name": "Caption",
"type": "caption",
"settings": [

{
"type": "text",
"id": "caption",
"label": "Caption",
"default": "caption"
}]},
{
"name": "Heading",
"type": "heading",
"settings": [

{
"type": "text",
"id": "heading",
"label": "Heading",
"default": "Heading"
}]},
{
"name": "Subheading",
"type": "subheading",
"settings": [

{
"type": "text",
"id": "subheading",
"label": "Subheading",
"default": "Subheading"
}]},
{
"name": "Paragraph",
"type": "paragraph",
"settings": [

{
"type": "richtext",
"id": "paragraph",
"label": "Paragraph",
"default": "<p> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet, ex.</p>"
}]},
{
"name": "Button",
"type": "button",
"settings": [

{
"type": "text",
"id": "button_text",
"label": "Button Text",
"default": "Button"
},
{
"type": "url",
"id": "button_link",
"label": "Button Link"

}

]}

],
"presets": [
{
"name": "Rich Text",
"blocks": [
{
"type": "banner"
},
{
"type": "caption"
},
{
"type": "heading"
},
{
"type": "subheading"
},
{
"type": "paragraph"
},
{
"type": "button"
}

]
}
]
}
{% endschema %}